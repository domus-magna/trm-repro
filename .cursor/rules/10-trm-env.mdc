---
alwaysApply: true
description: Global configuration and required invariants for TRM ARC-AGI-2
---

## Global Configuration (export these first)

```bash
# Required knobs
export TARGET_DATASET=arc2
export TRM_DIR="$HOME/TinyRecursiveModels"
export PY="python3.10"
export USE_VENV=1
export VENV_DIR="$TRM_DIR/.venv"
export TORCH_INDEX_URL="https://download.pytorch.org/whl/nightly/cu126"  # adjust for your CUDA
export RUN_NAME="trm_arc2_paper_repro"
export MAX_GPUS_TO_USE=4

# Optional logging
export WANDB_API_KEY=""

# Kaggle publishing (optional but in scope here)
export PUBLISH_TO_KAGGLE=1
export KAGGLE_USERNAME="<your_kaggle_username>"
export KAGGLE_DATASET_SLUG="trm-arc2-weights-${RUN_NAME}"
export KAGGLE_DS_DIR="$TRM_DIR/kaggle_dataset_arc2_${RUN_NAME}"
```

### Invariant Checks
- **TARGET_DATASET must be `arc2`**.
- Do **not** touch model code or flags beyond specified upstream ARC-AGI-2 flags.
- If `PUBLISH_TO_KAGGLE=1`: `~/.kaggle/kaggle.json` exists and `chmod 600`.

Use absolute paths where possible. Maintain Python 3.10 strictly.